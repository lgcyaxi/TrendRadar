# WeWork Compact Extension Configuration
# Transforms verbose notifications into compact format for WeWork and similar channels
#
# v2.0.0 - Modular handler architecture supporting multiple sections

enabled: true

# Target channels (only apply to these channels)
target_channels:
  - wework

# Message format: text (strips markdown) or markdown
msg_type: text

# === Section Configuration ===
# Each section can be individually enabled/disabled and configured
sections:
  # New titles section (本日新增) - newly detected trending titles
  new_titles:
    enabled: true
    include_ai_summary: true     # Generate AI-powered cross-news summary
    max_titles: 20               # Maximum titles to display
    max_platform_display: 3      # Max platforms per title (e.g., "微博/抖音/知乎")
    empty_message: "暂无新增今日热点"  # Message when no new hot topics

  # Current list section (当前榜单) - all current trending titles
  current_list:
    enabled: true
    include_ai_analysis: true    # Include AI deep analysis at the end
    max_titles: 50               # Maximum titles to display
    max_platform_display: 3      # Max platforms per title

  # Standalone section (独立展示区) - specific platforms/RSS feeds
  standalone:
    enabled: true
    max_items_per_source: 10     # Maximum items per platform/feed

# Order of sections in the output message
section_order:
  - new_titles
  - current_list
  - standalone

# === Ollama Configuration ===
# AI summary generation for new_titles section
# 通过主 AI 的 LiteLLM 连接 Ollama，超时由主 AI 配置决定
ollama:
  model: "glm-4.7-flash:latest"              # Model name
  prompt_file: "wework_compact_prompt.txt"   # Prompt file for AI summary

# === Fallback Settings ===
fallback:
  max_platform_display: 3  # Max platforms to show per title
